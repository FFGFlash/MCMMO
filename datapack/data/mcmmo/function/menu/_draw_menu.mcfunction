# Load the menu template
$data modify block ~ ~ ~ Items set from storage mcmmo:menu Menus.List[{Id:$(Id)}].Items

# Fill empty slots
execute unless data block ~ ~ ~ Items[{Slot:0b}] run data modify block ~ ~ ~ Items append value {Slot:0b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:0b}}}
execute unless data block ~ ~ ~ Items[{Slot:1b}] run data modify block ~ ~ ~ Items append value {Slot:1b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:1b}}}
execute unless data block ~ ~ ~ Items[{Slot:2b}] run data modify block ~ ~ ~ Items append value {Slot:2b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:2b}}}
execute unless data block ~ ~ ~ Items[{Slot:3b}] run data modify block ~ ~ ~ Items append value {Slot:3b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:3b}}}
execute unless data block ~ ~ ~ Items[{Slot:4b}] run data modify block ~ ~ ~ Items append value {Slot:4b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:4b}}}
execute unless data block ~ ~ ~ Items[{Slot:5b}] run data modify block ~ ~ ~ Items append value {Slot:5b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:5b}}}
execute unless data block ~ ~ ~ Items[{Slot:6b}] run data modify block ~ ~ ~ Items append value {Slot:6b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:6b}}}
execute unless data block ~ ~ ~ Items[{Slot:7b}] run data modify block ~ ~ ~ Items append value {Slot:7b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:7b}}}
execute unless data block ~ ~ ~ Items[{Slot:8b}] run data modify block ~ ~ ~ Items append value {Slot:8b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:8b}}}
execute unless data block ~ ~ ~ Items[{Slot:9b}] run data modify block ~ ~ ~ Items append value {Slot:9b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:9b}}}
execute unless data block ~ ~ ~ Items[{Slot:10b}] run data modify block ~ ~ ~ Items append value {Slot:10b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:10b}}}
execute unless data block ~ ~ ~ Items[{Slot:11b}] run data modify block ~ ~ ~ Items append value {Slot:11b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:11b}}}
execute unless data block ~ ~ ~ Items[{Slot:12b}] run data modify block ~ ~ ~ Items append value {Slot:12b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:12b}}}
execute unless data block ~ ~ ~ Items[{Slot:13b}] run data modify block ~ ~ ~ Items append value {Slot:13b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:13b}}}
execute unless data block ~ ~ ~ Items[{Slot:14b}] run data modify block ~ ~ ~ Items append value {Slot:14b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:14b}}}
execute unless data block ~ ~ ~ Items[{Slot:15b}] run data modify block ~ ~ ~ Items append value {Slot:15b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:15b}}}
execute unless data block ~ ~ ~ Items[{Slot:16b}] run data modify block ~ ~ ~ Items append value {Slot:16b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:16b}}}
execute unless data block ~ ~ ~ Items[{Slot:17b}] run data modify block ~ ~ ~ Items append value {Slot:17b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:17b}}}
execute unless data block ~ ~ ~ Items[{Slot:18b}] run data modify block ~ ~ ~ Items append value {Slot:18b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:18b}}}
execute unless data block ~ ~ ~ Items[{Slot:19b}] run data modify block ~ ~ ~ Items append value {Slot:19b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:19b}}}
execute unless data block ~ ~ ~ Items[{Slot:20b}] run data modify block ~ ~ ~ Items append value {Slot:20b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:20b}}}
execute unless data block ~ ~ ~ Items[{Slot:21b}] run data modify block ~ ~ ~ Items append value {Slot:21b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:21b}}}
execute unless data block ~ ~ ~ Items[{Slot:22b}] run data modify block ~ ~ ~ Items append value {Slot:22b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:22b}}}
execute unless data block ~ ~ ~ Items[{Slot:23b}] run data modify block ~ ~ ~ Items append value {Slot:23b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:23b}}}
execute unless data block ~ ~ ~ Items[{Slot:24b}] run data modify block ~ ~ ~ Items append value {Slot:24b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:24b}}}
execute unless data block ~ ~ ~ Items[{Slot:25b}] run data modify block ~ ~ ~ Items append value {Slot:25b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:25b}}}
execute unless data block ~ ~ ~ Items[{Slot:26b}] run data modify block ~ ~ ~ Items append value {Slot:26b,id:"minecraft:light_gray_stained_glass_pane",count:1,components:{"minecraft:tooltip_display":{hide_tooltip:1b},"minecraft:item_model":"mcmmo:menu/blank","minecraft:custom_data":{menu_slot:26b}}}

# Load into storage for mutations
data modify storage mcmmo:menu Temp.Items set from block ~ ~ ~ Items

# Load the menu name
$data modify storage mcmmo:menu Temp.CustomName set from storage mcmmo:menu Menus.List[{Id:$(Id)}].Item.components.minecraft:custom_name

# Loop over every item and perform neccessary mutations for rendering
scoreboard players set #i mcmmo.menu 0
function mcmmo:menu/_draw_items

# Load the menu into container
data modify block ~ ~ ~ Items set from storage mcmmo:menu Temp.Items
data modify block ~ ~ ~ CustomName set from storage mcmmo:menu Temp.CustomName

return 1